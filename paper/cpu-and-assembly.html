<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="../css/paper.css">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Understanding CPU Architecture Using Assembly Code</title>
  </head>
  <body>
    </header>
    <main>
      <div class="post">
<div class="header">
  <h1>Understanding CPU Architecture Using Assembly Code</h1>
<p>Jun 01, 2024 | Author: Maiquel Paiva (<a href="https://twitter.com/untw0">@untw0</a>)</p><br></div>

<h1>Introduction</h1>
<p>In this post, we'll explore the CPU architecture and how it performs basic operations using Assembly language. We'll cover concepts like registers, data manipulation, and control flow instructions, with Assembly language examples and explanatory diagrams.</p>

<h1>About CPU</h1>
<p>The CPU is the brain of the computer, performing logical and arithmetic operations on data. It has units such as the Control Unit and the Arithmetic Logic Unit, and uses internal registers to temporarily store data and instructions. The speed of the CPU, determined by its internal clock, directly affects its processing power. There are several CPU architectures, such as x86, ARM, and Power, each with their own characteristics. x86 CPUs, manufactured by companies such as Intel and AMD, are common in PCs and servers.</p>

<p><h2>Computer Architecture</h2></p>
<p><img src="../icons/cpu/architeture.png"></p>
<p><h2>Von Neumann Architecture</h2></p>
<p>In short: CPU and Shared Memory. The CPU uses the same memory to store data and instructions. There is a single bus for transferring data and instructions, which can lead to "Von Neumann bottleneck", limiting the speed of the CPU by the speed of the memory.</p>
<p><h2>Harvard Architecture</h2></p>
<p>In short: Separate Memory. The CPU has separate memories for data and instructions. There are separate buses for instructions and data, allowing simultaneous access, which potentially increases processing speed.</p>

<h1>Registrars</h1>
<p>Registers are small data stores within the CPU used for fast operations. They are crucial for efficient instruction execution. Here are some of the main registers in the x86 architecture:</p>
ㅤ
<p>EAX, EBX, ECX, EDX: General purpose registers. They are used for various operations, such as arithmetic, logic, and data manipulation.</p>
ㅤ
<p>ESI, EDI: Index registers. They are often used for string and array processing operations.</p>
ㅤ
<p>EBP, ESP: Base pointer and stack pointer registers, respectively. EBP is used as a base pointer to the stack, while ESP is used to point to the top of the stack.</p>
<p><h2>Register Manipulation Example</h2></p>
<p>Let's start with a simple example of how to load values ​​into registers and perform a sum.</p>
<p><img src="../icons/cpu/assembly1.png"></p>
<h2>Register Diagram</h2>
<p><img src="../icons/cpu/diagrama1.png"></p>

<h1>Flow Control Instructions</h1>
<p>Flow control instructions allow altering the program execution based on specific conditions, such as branching to different parts of the code depending on the result of a comparison.</p>
<h2>Flow Control Example</h2>
<p>Here is an example that compares two values and branches to different routines based on the comparison result:</p>
<p><img src="../icons/cpu/assembly2.png"></p>
<p><h2>Flow Control Diagram</h2></p>
<p><img src="../icons/cpu/diagrama2.png"></p>

<h1>Clarifying a doubt</h1>
<p>Let's consider two processors (CPU0) and (CPU1) and a shared resource (shared variable) that both processors can access and modify.</p>
<p><img src="../icons/cpu/assembly3.png"></p>
<p>This code simulates two processors (CPU0) and (CPU1) competing for access and modification of a shared variable. CPU0 adds 1 to the shared variable, while CPU1 adds 2. The total number of iterations is defined by ebx. At the end of the iterations, the final value of the shared variable is printed.</p>
<h2>Communication Flow and Load Distribution Diagram</h2>
<p><img src="../icons/cpu/diagrama3.png"></p>

<h1>Conclusion</h1>
<p>This post covers fundamental concepts of CPU architecture using Assembly, with code examples and diagrams to facilitate understanding. From basic register manipulation to flow control and logical operations, these examples provide a comprehensive view of how CPUs execute instructions.</p>

    </main>
    <footer>
      <a href="../index.html">/index.html</a>
    </footer>
  </body>
</html>
